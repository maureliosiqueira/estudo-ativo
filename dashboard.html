<!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>

<!-- Configuração do Firebase -->
<script>
  const firebaseConfig = {
    apiKey: "AIzaSyCZ5Pgzv08pcR6Xfp-SdjdYmqqSw7brNQ4",
    authDomain: "estudo-ativo-projeto.firebaseapp.com",
    projectId: "estudo-ativo-projeto",
    storageBucket: "estudo-ativo-projeto.firebasestorage.app",
    messagingSenderId: "257330913879",
    appId: "1:257330913879:web:4babb1b1fa4a77cd7bb912"
  };

  firebase.initializeApp(firebaseConfig);
</script>

<!-- Carrega o nome do usuário ao abrir o dashboard -->
<script>
  window.addEventListener('load', () => {
    firebase.auth().onAuthStateChanged(user => {
      if (!user) {
        // Se não estiver logado, volta para o login
        window.location.href = 'index.html';
      } else {
        // ✅ Exibe o nome do usuário
        const userNameElement = document.getElementById('userName');
        if (userNameElement) {
          userNameElement.textContent = user.displayName || user.email || 'Usuário';
        }
        // Define plano como Gratuito (ou carregue do Firestore depois)
        const userPlanElement = document.getElementById('userPlan');
        if (userPlanElement) {
          userPlanElement.textContent = 'Gratuito';
        }
      }
    });

    // Botão de sair
    const logoutBtn = document.getElementById('logoutBtn');
    if (logoutBtn) {
      logoutBtn.addEventListener('click', () => {
        firebase.auth().signOut().then(() => {
          window.location.href = 'index.html';
        });
      });
    }
  });
</script>
